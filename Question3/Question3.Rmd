---
# IMPORTANT: Change settings here, but DO NOT change the spacing.
# Remove comments and add values where applicable.
# The descriptions below should be self-explanatory

title: "Metallica vs Coldplay - A study"
#subtitle: "This will appear as Right Header"

documentclass: "elsarticle"

# --------- Thesis title (Optional - set to FALSE by default).
# You can move the details below around as you please.
Thesis_FP: FALSE
# Entry1: "An unbelievable study with a title spanning multiple lines."
# Entry2: "\\textbf{Nico Katzke}" # textbf for bold
# Entry3: "A thesis submitted toward the degree of Doctor of Philosophy"
# Uni_Logo: Tex/Logo.png # Place a logo in the indicated location (from your root, e.g. defaults to ~/Tex/Logo.png) and uncomment this line. Leave uncommented for no image
# Logo_width: 0.3 # If using a logo - use this to set width (size) of image
# Entry4: "Under the supervision of: \\vfill Prof. Joe Smith and Dr. Frank Smith"
# Entry5: "Stellenbosch University"
# Entry6: April 2020
# Entry7:
# Entry8:

# --------- Front Page
# Comment: ----- Follow this pattern for up to 5 authors
AddTitle: TRUE # Use FALSE when submitting to peer reviewed platform. This will remove author names.
Author1: "Ruan Geldenhuys"  # First Author - note the thanks message displayed as an italic footnote of first page.
Ref1: "Stellenbosch University, Stellenbosch, South Africa" # First Author's Affiliation
Email1: "22550801\\@sun.ac.za" # First Author's Email address



# Comment out below to remove both. JEL Codes only given if keywords also given.
#keywords: "Multivariate GARCH \\sep Kalman Filter \\sep Copula" # Use \\sep to separate
#JELCodes: "L250 \\sep L100"

# ----- Manage headers and footers:
#BottomLFooter: $Title$
#BottomCFooter:
#TopLHeader: \leftmark # Adds section name at topleft. Remove comment to add it.
BottomRFooter: "\\footnotesize Page \\thepage" # Add a '#' before this line to remove footer.
addtoprule: TRUE
addfootrule: TRUE               # Use if footers added. Add '#' to remove line.

# --------- page margins:
margin: 2.3 # Sides
bottom: 2 # bottom
top: 2.5 # Top
HardSet_layout: TRUE # Hard-set the spacing of words in your document. This will stop LaTeX squashing text to fit on pages, e.g.
# This is done by hard-setting the spacing dimensions. Set to FALSE if you want LaTeX to optimize this for your paper.

# --------- Line numbers
linenumbers: FALSE # Used when submitting to journal

# ---------- References settings:
# You can download cls format here: https://www.zotero.org/ - simply search for your institution. You can also edit and save cls formats here: https://editor.citationstyles.org/about/
# Hit download, store it in Tex/ folder, and change reference below - easy.
bibliography: Tex/ref.bib       # Do not edit: Keep this naming convention and location.
csl: Tex/harvard-stellenbosch-university.csl # referencing format used.
# By default, the bibliography only displays the cited references. If you want to change this, you can comment out one of the following:
#nocite: '@*' # Add all items in bibliography, whether cited or not
# nocite: |  # add specific references that aren't cited
#  @grinold2000
#  @Someoneelse2010

# ---------- General:
RemovePreprintSubmittedTo: TRUE  # Removes the 'preprint submitted to...' at bottom of titlepage
Journal: "Journal of Finance"   # Journal that the paper will be submitting to, if RemovePreprintSubmittedTo is set to TRUE.
toc: FALSE                       # Add a table of contents
numbersections: TRUE             # Should sections (and thus figures and tables) be numbered?
fontsize: 11pt                  # Set fontsize
linestretch: 1.2                # Set distance between lines.
link-citations: TRUE            # This creates dynamic links to the papers in reference list.

### Adding additional latex packages:
# header-includes:
#    - \usepackage{colortbl} # Add additional packages here.

output:
  pdf_document:
    keep_tex: TRUE
    template: Tex/TexDefault.txt
    fig_width: 3.5 # Adjust default figure sizes. This can also be done in the chunks of the text.
    fig_height: 3.5
abstract: |
  This document aims to investigate the careers of Metallica and Coldplay. By comparing these band I hope to gain insight into key differences in history, style and popularity these bands experienced. This analysis will be done using data obtained from Spotify.
---


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE, fig.width = 6, fig.height = 5, fig.pos="H", fig.pos = 'H')
if(!require("tidyverse")) install.packages("tidyverse")
library(tidyverse)
library(viridis)
library(RColorBrewer)
library(corrplot)

```


```{r}
coldplayDF <- read.csv('data/Coldplay_vs_Metallica/Coldplay.csv')
metallicaDF <- read.csv('data/Coldplay_vs_Metallica/metallica.csv')
source('code/merged_songs_plot.R')
source('code/plotPolar.R')
merged<- mergeBands(coldplayDF, metallicaDF)
source("code/corrPlots.R")

```

# Song Releases

The graph below shows song releases by both bands over time. Live performances have been excluded from this analysis.

```{r}
songreleases_plot(merged)
```

Metallica has been active for a much longer than Coldplay as is apparent from the graph above. One striking difference is that Metallica has produced a much greater amount of songs that Coldplay. Even in the period where they were both active, Metallica still produced more songs.

# Song Characteristics

The graphs below break down the average song characteristics of both bands in 5 year periods. The values were scaled using min-max scaling in order to be represented on one graph.
```{r fig.width=7, fig.height=8}
plotPolar(merged)
```

When analysing the graph above it is important to not compare different song characteristics with each other. The only valid comparisons are those between bands within the same characteristic. Nevertheless, this gives plenty to interpret. These figure show that Metallica songs consistently score higher on loudness than Coldplay. Additionally, Coldplay songs score higher on energy than Metallica songs. Interestingly, from 1998-2003, Metallica songs were higher tempo than Coldplay. However in the following years Metallica cut back on high tempo songs until 2018, when their songs once again became more high tempo than that of Coldplay.

# Popularity and Song Characteristic

```{r metallica-plot, out.width='50%', echo=FALSE}
knitr::include_graphics("Metallica_corrplot.png")
knitr::include_graphics("Coldplay_corrplot.png")
```

By looking at the correlation matrices we can try and infer what makes a Metallica song popular vs what makes a Coldplay song popular.

Metallica songs' popularity is negatively correlated with instrumentalness, indicating that audience prefer a less instrumental Metallica. Popularity is mostly correlated with loudness and energy. This means audiences listen to Metallica more when songs are loud and have high energy.

Coldplay have no strong correlation with any song characteristic. There are some weak positive correlation with danceability and loudness, and weak negative correlation with instrumentalness and speechiness. 
